Для начала составим техническое задание на создание адаптивной галереи изображений:

Галерея должна быть адаптивной и должна корректно работать на любом устройстве с разрешением от 320px и выше.
Для управления галерей изображений используем максимально возможные варианты:
— кнопками навигации «prev» и «next»;
— пагинация;
— клавишами клавиатуры со стрелочками «вправо» и «влево»;
— вращением колёсика мыши;
— перетаскивание с помощью курсора мыши;
— на мобильных устройствах пролистывание пальцем (swipe);
— автоматическое прокручивание галереи.
Перечисленные способы навигации можно комбинировать, подключать или отключать при необходимости.
Переход к следующему изображению при перетаскивании осуществиться, если изображение было перемещено на расстояние не 
менее 50% от его ширины. В противном случае, слайдер плавно вернётся к текущему изображению.
Возможно использование нескольких галерей на одной странице.

HTML-вёрстка адаптивной галереи изображений.

Вся галерея изображений размещена в родительском контейнере с id="gallery".
Контейнер <div class="slider"> определяет размер видимой части нашей адаптивной галереи. Количество одновременно
показываемых изображений в данном контейнере определяется в настройках. Для того, чтобы остальные изображения были 
невидимы, к контейнеру применяется стиль visibility: hidden;.
Все элементы галереи изображений размещены в контейнере <div class="stage">. Изменяя его позиционирование относительно 
родительского элемента, мы получим прокрутку галереи.

В контейнере <div class="control"> расположено управление пошаговой и постраничной навигации:

Элементы управления, расположенные в контейнере <div class="nav-ctrl">, отвечают за прокручивание галереи на один шаг 
(одно изображение). Можно из этих элементов убрать текст, разместить их справа и слева от галереи и отобразить в них 
стрелочки «вправо» и «влево», используя фоновые изображения. Никакое изменение вёрстки при этом не требуется, достаточно
 внести изменения в таблицу стилей.
В немаркированном списке <ul class="dots-ctrl"></ul> будут располагаться элементы постраничной навигации. Они
 генерируются скриптом в зависимости от настроек галереи изображений.
 
 1) При клике на изображение не будет открываться его полноразмерный вариант.
 2) В HTML-вёрстке сразу присутствует код элементов как пошаговой, так и постраничной навигации. 
 Достаточно было бы вставить в вёрстку только их родительский элемент — <div class="control">, а саму навигацию
  создавать «на лету» с помощью JavaScript, в зависимости от настроек галереи изображений.
  
  Инициализация адаптивной галереи изображений.
  Первое, что мы сделаем, это создадим анонимную самозапускающуюся функцию, внутри которой и будет расположен наш код.
  Нужно взять за правило ограничивать область видимости скрипта, чтобы исключить конфликты с другими JS-скриптами
   подключенными к странице.
  
  (function() {
  	'use strict';
  
  })();
  
Конструктор для адаптивной галереи изображений.

Для реализации возможности размещения нескольких галерей на одной странице, используем прототипный стиль написания 
скрипта. Для этой цели необходимо создать конструктор, который будет вызываться при инициализации каждой галереи.
Конструктор представляет из себя функциональное выражение (Function Expression) с набором настроек, определяющих внешний
 вид галереи изображений, её поведение и способы управления галерей. Эти настройки можно изменить во время инициализации
  галереи, заменив их значения на пользовательские.
Кроме этого, в конструкторе вызывается функция init, которая формирует галерею исходя из полученных настроек.

Конструктор принимает два аргумента:

id — идентификатор галерей, инициализация которой происходит в данный момент;
setup — ассоциативный массив с пользовательскими настройками.
(function() {
	'use strict';
 
	// функция-конструктор
	var Gallery = function(id, setup) {
		...
	};
 
	// построение галереи исходя из полученных настроек
	this.init();
})();

Для того, чтобы была возможность обратиться к конструктору из вне анонимной функции, запишем функцию-конструктор, как 
свойство объекта Window.
(function() {
	'use strict';
 
	// функция-конструктор
	var Gallery = function(id, setup) {
		// свойства галереи по умолчанию
		...
 
		// построение галереи исходя из полученных настроек
		this.init();
	};
 
	// запишем конструктор в свойство 'window.Gallery', чтобы обеспечить
	// доступ к нему снаружи анонимной функции
	window.Gallery = Gallery;
})();

Теперь рассмотрим полный JS-код конструктора:
var Gallery = function(id, setup) {
	// настройки по-умолчанию
	this.defaults = {
		margin:			10,		// расстояние между элементами [px]
		visibleItems: 	1,		// сколько элементов показывать одновременно
		border:			0,		// толщина рамки изображения прописанная в CSS [px]
		responsive:		false,	// адаптивная галерея
		autoScroll:		false,	// автоматическое прокручивание
		interval: 		3000,	// задержка при автоматическом прокручивании [ms]
		nav:			true,	// показать/скрыть кнопки next/prev
		dots:			true,	// показать/скрыть постраничную навигацию
		keyControl:		false,	// управление клавишами вправо / влево
		baseTransition:	0.4,	// скорость анимации, при изменении CSS свойств [s]
		delayTimer:		250,	// время задержки при resize страницы [ms]
		limit:			30		// ограничиваем перемещение крайних элементов [px]
	};
 
	this.id = id;
	this.setup = setup;
 
	// основные DOM-элементы галереи определяющие её каркас
	// родительский элемент галереи
	this.gallery = document.getElementById(this.id);
	// контейнер в котором отображаются элементы галереи
	this.slider = this.gallery.querySelector('.slider');
	// контейнер, непосредственно в котором расположены элементы слайдера
	this.stage = this.gallery.querySelector('.stage');
	// элементы слайдера
	this.items = this.gallery.querySelectorAll('.stage > div');
	// количество элементов в слайдера
	this.count = this.items.length;
 
	// дополнительные свойства
	this.current = 0;		// index координаты текущего элемента
	this.next = 0;			// index координаты следующего элемента
	this.pressed = false;	// указывает, что совершилось событие 'mousedown'
	this.start = 0;			// координата, с которой начато перетаскивание
	this.shift = 0;			// на сколько был перемещён курсор относительно start
 
	// построение галереи исходя из полученных настроек
	this.init();
};

Назначение некоторых свойств, несмотря на их краткое описание, может быть непонятно. Более подробно каждое свойство 
будет рассмотрено в процессе написания JS-скрипта.

Вызывать функцию-конструктор будем из HTML-страницы, для чего в конце HTML-вёрстки, перед закрывающим тегом </BODY> 
запишем следующий JS-код:
<script>
// настраиваем галерею с учётом входных данных, аргументы: id родительского блока
// слайдера и объект с пользовательскими настройками галереи.
var gallery1 = new Gallery('gallery', {
		// одновременно выводится 4 элемента
		visibleItems: 4,
		// разрешаем постраничную навигацию
		dots: true,
		// разрешаем управление с клавиатуры клавишами навигации "вправо / влево"
		keyControl: true
	});
</script>

В пользовательских настройках, мы указали, что в галерее одновременно будут видны четыре изображения и разрешили 
управление с помощью клавиатуры. При использовании на странице нескольких галерей, управление с клавиатуры должно быть
 отключено.

В результате мы получим экземпляр адаптивной галереи, дополненный новыми свойствами и от которых будут наследоваться 
, отвечающие за формирование каркаса и навигации галереи, а также, её работу.

Т. к. все методы наследуются от своего прототипа, то их запись будет выглядеть следующим образом:
Gallery.prototype.someMethod = function() { ... }

Давайте сократим эту запись, создав переменную, которая будет ссылаться на прототип Gallery, для этого в конец нашей 
анонимной функции добавим следующий JS-код:
(function() {
	'use strict';
 
	// функция-конструктор
	var Gallery = function(id, setup) {
		// свойства галереи по умолчанию
		...
 
		// построение галереи исходя из полученных настроек
		this.init();
	};
 
	// запишем конструктор в свойство 'window.Gallery', чтобы обеспечить
	// доступ к нему снаружи анонимной функции
	window.Gallery = Gallery;
	// для сокращения записи, создадим переменную, которая будет ссылаться
	// на прототип 'Gallery'
	var fn = Gallery.prototype;
})();

Теперь запись функции будет выглядеть следующим образом:
fn.someMethod = function() { ... }

Запуск инициализации адаптивной галереи изображений.
Инициализация галереи начинается вызовом функции init из функции-конструктора Gallery. В свою очередь, она вызывает ряд 
функций, которые:

Объединяют дефолтные настройки адаптивной галереи изображений defaults с пользовательскими настройками setup,
полученными в качестве второго аргумента. Результат помещается в объект options — это основной объект, с которым будет
работать JS-скрипт галереи.
Рассчитывают и формируют каркас галереи с учётом данных записанных в объект настроек options.
Получают координату X каждого элемента галереи и помещает её в массив.
Формируют навигацию по галерее.
Устанавливают обработчики событий.
JS-код функции init:
